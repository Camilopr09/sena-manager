<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Calculadora D√≠as H√°biles</title>
    <script src="./dias-habiles-colombia.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-result {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { border-left: 4px solid #27ae60; }
        .error { border-left: 4px solid #e74c3c; }
        h1 { color: #2c3e50; }
        h3 { color: #34495e; margin-top: 0; }
        .detail { color: #7f8c8d; font-size: 14px; }
    </style>
</head>
<body>
    <h1>üß™ Test - Calculadora de D√≠as H√°biles Colombia 2026</h1>
    
    <div id="results"></div>
    
    <script>
        function runTests() {
            const tests = [
                {
                    nombre: 'Caso del usuario: 30 marzo - 3 abril',
                    fechaInicio: '2026-03-30',
                    fechaFin: '2026-04-03',
                    esperado: 3,
                    detalle: '30 marzo (lunes), 31 marzo (martes), 1 abril (mi√©rcoles). 2 y 3 abril son festivos (Semana Santa)'
                },
                {
                    nombre: 'Semana completa sin festivos',
                    fechaInicio: '2026-02-09',
                    fechaFin: '2026-02-13',
                    esperado: 5,
                    detalle: 'Lunes a viernes = 5 d√≠as h√°biles'
                },
                {
                    nombre: 'Incluye fin de semana',
                    fechaInicio: '2026-02-09',
                    fechaFin: '2026-02-15',
                    esperado: 5,
                    detalle: 'L, M, M, J, V (h√°biles) + S, D (no cuentan) = 5 d√≠as h√°biles'
                },
                {
                    nombre: 'Incluye A√±o Nuevo',
                    fechaInicio: '2026-01-01',
                    fechaFin: '2026-01-05',
                    esperado: 2,
                    detalle: '1 enero festivo (jueves), 2 viernes h√°bil, 3-4 fin de semana, 5 lunes h√°bil = 2 d√≠as h√°biles'
                },
                {
                    nombre: 'Solo festivos',
                    fechaInicio: '2026-04-02',
                    fechaFin: '2026-04-03',
                    esperado: 0,
                    detalle: 'Jueves y Viernes Santo (ambos festivos) = 0 d√≠as h√°biles'
                },
                {
                    nombre: 'Un solo d√≠a h√°bil',
                    fechaInicio: '2026-02-09',
                    fechaFin: '2026-02-09',
                    esperado: 1,
                    detalle: 'Lunes 9 de febrero = 1 d√≠a h√°bil'
                }
            ];
            
            const resultsDiv = document.getElementById('results');
            let passed = 0;
            let failed = 0;
            
            tests.forEach(test => {
                const resultado = calcularDiasHabiles(test.fechaInicio, test.fechaFin);
                const detalle = obtenerDetalleCalculo(test.fechaInicio, test.fechaFin);
                const exito = resultado === test.esperado;
                
                if (exito) passed++;
                else failed++;
                
                resultsDiv.innerHTML += `
                    <div class="test-result ${exito ? 'success' : 'error'}">
                        <h3>${exito ? '‚úÖ' : '‚ùå'} ${test.nombre}</h3>
                        <p><strong>Fechas:</strong> ${test.fechaInicio} al ${test.fechaFin}</p>
                        <p><strong>Esperado:</strong> ${test.esperado} d√≠as h√°biles</p>
                        <p><strong>Obtenido:</strong> ${resultado} d√≠as h√°biles</p>
                        <p class="detail">${test.detalle}</p>
                        ${detalle.festivosEncontrados.length > 0 ? `
                            <p class="detail"><strong>Festivos encontrados:</strong><br>
                            ${detalle.festivosEncontrados.map(f => `‚Ä¢ ${f.nombre} (${f.fecha})`).join('<br>')}
                            </p>
                        ` : ''}
                        <p class="detail">
                            <strong>Desglose:</strong> ${detalle.totalDias} d√≠as totales = 
                            ${detalle.diasHabiles} h√°biles + 
                            ${detalle.finesDeSemana} fin de semana + 
                            ${detalle.festivos} festivos
                        </p>
                    </div>
                `;
            });
            
            resultsDiv.innerHTML += `
                <div class="test-result ${failed === 0 ? 'success' : 'error'}">
                    <h3>üìä Resumen</h3>
                    <p><strong>Tests ejecutados:</strong> ${tests.length}</p>
                    <p><strong>‚úÖ Exitosos:</strong> ${passed}</p>
                    <p><strong>‚ùå Fallidos:</strong> ${failed}</p>
                </div>
            `;
        }
        
        // Ejecutar tests al cargar la p√°gina
        runTests();
    </script>
</body>
</html>
